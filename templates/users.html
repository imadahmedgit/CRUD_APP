{% extends "layout.html" %}
{% block content %}

{% if 'query_edit' in request.url %}
        
        
      <div style='margin-left: 100px; width: 45%;'>

        {% for eresult in eresults %}
         <br> <br> <br>
        <form action = "edit" method = "POST">
        <input class="form-control" hidden type = "text" name = "user_id" style='width: 100%;' value='{{eresult["user_id"]}}'/>
         <p>First Name: <input class="form-control"  required type = "text" name = "first_name" style='width: 100%;' value='{{eresult["first_name"]}}'/></p>
         <p>Last Name: <input class="form-control" required type = "text" name = "last_name" style='width: 100%;' value='{{eresult["last_name"]}}' /></p>
         <p>Email: <input class="form-control" required type = "text" name = "email" style='width: 100%;' value='{{eresult["email"]}}' /></p>
         <p>Date Created: <input class="form-control" required type = "text" name = "date_created" style='width: 100%;' value='{{eresult["date_created"]}}' /></p>
         <p>Active: <input class="form-control" required type ="text" name = "active" style='width: 100%;' value='{{eresult["active"]}}' /></p>
         

         {% endfor %}

         <br>

         <p><input class="btn-primary" type = "submit" value = "Update Data" /></p>
        </form>

      </div>

        {% else %}
        <div style='margin-left: 100px; width: 45%;'>
      
        <br> <br> <br>
        <form action = "insert" method = "POST">
         <p>First Name: <input class="form-control" type = "text" name = "first_name" required style='width: 100%;' /></p>
         <p>Last Name: <input class="form-control" type = "text" required name = "last_name" style='width: 100%;' /></p>
         <p>Email: <input class="form-control" type = "text" required name = "email" style='width: 100%;' /></p>
         <p>Date Created: <input class="form-control" required type = "text" name = "date_created" style='width: 100%;' /></p>
         <p>Active: <input class="form-control" required type ="text" name = "active" style='width: 100%;' /></p>
         
         <br>

         <p><input class="btn-primary" type = "submit" value = "Insert Data" /></p>
        </form>
        </div>


        {% endif %}




 <div class="alert alert-success" role="alert" style='width: 90%; margin-left: 100px;'>
       <strong>Data Table:</strong>
  </div>

  <table class = 'table table-hover' style = 'margin-left: 100px; margin-right: 100px; width: 90%;'>
         <thead>
            <tr>
            <th>ID</th>	
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Date Created</th>
            <th>Active</th>
            <th>EDIT</th>
            <th>DELETE</th>
            </tr>
         </thead>

         {% for user in Users %}
            <tr>
               <td>{{user["user_id"]}}</td>
               <td>{{user["first_name"]}}</td>
               <td>{{user["last_name"]}}</td>
               <td>{{user["email"]}}</td>
               <td>{{user['date_created']}}</td>
               <td>{{user['active']}}</td>
               <td align="center"><a href = "{{ url_for('sql_editlink', euser_id=user['user_id']) }}"><i class="fas fa-edit"></a></td>
               <td align="center"><a href = "{{ url_for('sql_datadelete', user_id=user['user_id']) }}"><i class="fas fa-trash-alt"></a></td>
               
            </tr>
         {% endfor %}
      </table>
{% endblock content %}